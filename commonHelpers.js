import{a as c,i as d}from"./assets/vendor-ae6d56ab.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}})();c.defaults.baseURL="https://668581e2b3f57b06dd4cf9fd.mockapi.io/api/v1";function b(e,r){e.bablo+=1,c.put(`user/${e.userID}`,e).then(function(){r.innerHTML=e.bablo.toString()}).catch(function(i){console.log(i)})}function p(e,r,i){c.post("user",{bablo:0}).then(function(s){e.userID=Number(s.data.userID),e.bablo=0,i.innerHTML="0",localStorage.setItem(r,JSON.stringify(e.userID))}).catch(function(s){console.log(s)})}const m=document.querySelector(".button"),l=document.querySelector("#count");c.defaults.baseURL="https://668581e2b3f57b06dd4cf9fd.mockapi.io/api/v1";const u="UserID",n={bablo:0},f=localStorage.getItem(u);f===null?c.post("user",n).then(function(e){n.userID=Number(e.data.userID),localStorage.setItem(u,JSON.stringify(n.userID))}).catch(function(e){console.log(e)}):(n.userID=Number(f),c.get(`user/${n.userID}`).then(function(e){console.log(e),n.bablo=e.data.bablo,l.innerHTML=n.bablo.toString()}).catch(function(e){console.log(e),e.response&&e.response.status===404?p(n,u,l):d.error({title:"Помилка",message:"Виникла помилка при запиті Ваших даних з серверу. Спробуйте пізніше",position:"topRight"})}));m.addEventListener("click",()=>{b(n,l)});
//# sourceMappingURL=commonHelpers.js.map
