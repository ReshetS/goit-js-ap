import{a as c,i as p}from"./assets/vendor-ae6d56ab.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}})();const s={button:document.querySelector(".button"),countSpan:document.querySelector("#count"),megaSwitcher:document.querySelector(".megaSwitcher")},b="https://668581e2b3f57b06dd4cf9fd.mockapi.io/api/v1",l="UserID";c.defaults.baseURL=b;const d=["Нарахування бабла...","Бабла багато не буває","Треба чекати","Нарахування бабла...","Не квапся, почекай","Всі люблять бабло","Тапай ще","Та зачекайте, нараховується","На що витратиш?","Нарахування бабла...","Копиш на мрію?","Ще бабла?","Зараз буде","Секундочку, додасться","Нарахування бабла...","Давай ще","Не забудь задонатити на ЗСУ","Нарахування бабла...","Поділись із ЗСУ","Тапай, поквапся","Не зволікай, тисни ще","Нарахування бабла..."];function m(e){s.button.disabled=!0;const n=Math.ceil(Math.random()*d.length);s.button.innerHTML=`<span class="loader"></span>&nbsp;&nbsp;&nbsp;${d[n]}`,setTimeout(()=>{s.megaSwitcher.checked&&e.bablo!==0?e.bablo*=2:e.bablo+=1,c.put(`user/${e.userID}`,e).then(function(){s.countSpan.innerHTML=e.bablo.toString()}).catch(function(a){console.log(a)}).finally(()=>{s.button.innerHTML="Бабло!",s.button.disabled=!1})},Math.random()*3e3)}function g(e){c.post("user",{bablo:0}).then(function(n){e.userID=Number(n.data.userID),e.bablo=0,s.countSpan.innerHTML="0",localStorage.setItem(l,JSON.stringify(e.userID))}).catch(function(n){console.log(n)})}c.defaults.baseURL=b;const r={bablo:0},f=localStorage.getItem(l);f===null?c.post("user",r).then(function(e){r.userID=Number(e.data.userID),localStorage.setItem(l,JSON.stringify(r.userID))}).catch(function(e){console.log(e)}):(r.userID=Number(f),c.get(`user/${r.userID}`).then(function(e){r.bablo=e.data.bablo,s.countSpan.innerHTML=r.bablo.toString()}).catch(function(e){e.response&&e.response.status===404?g(r):p.error({title:"Помилка",message:"Виникла помилка при запиті Ваших даних з серверу. Спробуйте пізніше",position:"topRight"})}));s.button.addEventListener("click",()=>{m(r)});
//# sourceMappingURL=commonHelpers.js.map
